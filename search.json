[
  {
    "objectID": "scrypt.html",
    "href": "scrypt.html",
    "title": "NBA_MVP_Project",
    "section": "",
    "text": "%pip install html5lib lxml beautifulsoup4\n\nRequirement already satisfied: html5lib in /Users/zohaib/Desktop/cs projects /nba_project/.venv/lib/python3.9/site-packages (1.1)\nRequirement already satisfied: lxml in /Users/zohaib/Desktop/cs projects /nba_project/.venv/lib/python3.9/site-packages (6.0.2)\nRequirement already satisfied: beautifulsoup4 in /Users/zohaib/Desktop/cs projects /nba_project/.venv/lib/python3.9/site-packages (4.14.2)\nRequirement already satisfied: six&gt;=1.9 in /Users/zohaib/Desktop/cs projects /nba_project/.venv/lib/python3.9/site-packages (from html5lib) (1.17.0)\nRequirement already satisfied: webencodings in /Users/zohaib/Desktop/cs projects /nba_project/.venv/lib/python3.9/site-packages (from html5lib) (0.5.1)\nRequirement already satisfied: soupsieve&gt;1.2 in /Users/zohaib/Desktop/cs projects /nba_project/.venv/lib/python3.9/site-packages (from beautifulsoup4) (2.7)\nRequirement already satisfied: typing-extensions&gt;=4.0.0 in /Users/zohaib/Desktop/cs projects /nba_project/.venv/lib/python3.9/site-packages (from beautifulsoup4) (4.14.1)\nNote: you may need to restart the kernel to use updated packages.\n\n\n\nimport os #interacts with the operating systems ( such as creating folders/checking files)\nimport pandas as pd #used to read and clean the data \nimport shutil #copying/moving files or directories\n\nfrom bs4 import BeautifulSoup as bs #extract info such as player stats from a table.\nimport requests #requests usd to get HTML pages\nimport warnings; warnings.filterwarnings(\"ignore\") #suppress python warnings, may remove this though\nimport time #helps overloading \n# unhide all rows and columns #below adjusts how the data is displayed.\npd.set_option('display.max_rows', 50)\npd.set_option('display.max_columns', 50)\npd.set_option('display.width', 1000)\n\n/Users/zohaib/Desktop/cs projects /nba_project/.venv/lib/python3.9/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020\n  warnings.warn(\n\n\n\nurl = \"https://www.basketball-reference.com/awards/mvp.html#mvp_NBA\" #this is the web page we want to scrape\ndata = requests.get(url) #sends a GET request to the server and gets the pages html, and the content from the html page is stored now in data \nsoup = bs(data.text, \"html.parser\") #converts the text into smth that is searchable now\n\n\ntable = soup.find('table', id='mvp_NBA') \n\n\n#mvp_df = pd.read_html(str(table), header=1)[0]\nif table is None:\n    mvp_df = pd.read_html(url, attrs={'id': 'mvp_NBA'}, header=1, flavor=\"lxml\")[0]\nelse:\n    mvp_df = pd.read_html(str(table), header=1, flavor=\"lxml\")[0]\n\nmvp_df.columns = [col.strip() for col in mvp_df.columns] \n\n#mvp_df = mvp_df.dropna(subset=[mvp_df.columns[0]]) , test code\nmvp_df = mvp_df[mvp_df['Season'].astype(str).str[:4].astype(int) &gt;= 2015]\n\n#mvp_df.columns = ['Seasons', 'Players'], test code\n\nmvp_df = mvp_df.reset_index(drop=True)\nmvp_df.index = mvp_df.index + 1 #now instead of starting at 0 it will start at 1\n\nprint (mvp_df)\n\n\n     Season   Lg                   Player Voting  Age   Tm   G    MP   PTS   TRB   AST  STL  BLK    FG%    3P%    FT%    WS  WS/48\n1   2024-25  NBA  Shai Gilgeous-Alexander    (V)   26  OKC  76  34.2  32.7   5.0   6.4  1.7  1.0  0.519  0.375  0.898  16.7  0.309\n2   2023-24  NBA            Nikola JokiÄ    (V)   28  DEN  79  34.6  26.4  12.4   9.0  1.4  0.9  0.583  0.359  0.817  17.0  0.299\n3   2022-23  NBA              Joel Embiid    (V)   28  PHI  66  34.6  33.1  10.2   4.2  1.0  1.7  0.548  0.330  0.857  12.3  0.259\n4   2021-22  NBA            Nikola JokiÄ    (V)   26  DEN  74  33.5  27.1  13.8   7.9  1.5  0.9  0.583  0.337  0.810  15.2  0.296\n5   2020-21  NBA            Nikola JokiÄ    (V)   25  DEN  72  34.6  26.4  10.8   8.3  1.3  0.7  0.566  0.388  0.868  15.6  0.301\n6   2019-20  NBA    Giannis Antetokounmpo    (V)   25  MIL  63  30.4  29.5  13.6   5.6  1.0  1.0  0.553  0.304  0.633  11.1  0.279\n7   2018-19  NBA    Giannis Antetokounmpo    (V)   24  MIL  72  32.8  27.7  12.5   5.9  1.3  1.5  0.578  0.256  0.729  14.4  0.292\n8   2017-18  NBA             James Harden    (V)   28  HOU  72  35.4  30.4   5.4   8.8  1.8  0.7  0.449  0.367  0.858  15.4  0.289\n9   2016-17  NBA        Russell Westbrook    (V)   28  OKC  81  34.6  31.6  10.7  10.4  1.6  0.4  0.425  0.343  0.845  13.1  0.224\n10  2015-16  NBA            Stephen Curry    (V)   27  GSW  79  34.2  30.1   5.4   6.7  2.1  0.2  0.504  0.454  0.908  17.9  0.318\n\n\n\n#print (mvp_df.info())\nprint (mvp_df.head())\n\n    Season   Lg                   Player Voting  Age   Tm   G    MP   PTS   TRB  AST  STL  BLK    FG%    3P%    FT%    WS  WS/48\n1  2024-25  NBA  Shai Gilgeous-Alexander    (V)   26  OKC  76  34.2  32.7   5.0  6.4  1.7  1.0  0.519  0.375  0.898  16.7  0.309\n2  2023-24  NBA            Nikola JokiÄ    (V)   28  DEN  79  34.6  26.4  12.4  9.0  1.4  0.9  0.583  0.359  0.817  17.0  0.299\n3  2022-23  NBA              Joel Embiid    (V)   28  PHI  66  34.6  33.1  10.2  4.2  1.0  1.7  0.548  0.330  0.857  12.3  0.259\n4  2021-22  NBA            Nikola JokiÄ    (V)   26  DEN  74  33.5  27.1  13.8  7.9  1.5  0.9  0.583  0.337  0.810  15.2  0.296\n5  2020-21  NBA            Nikola JokiÄ    (V)   25  DEN  72  34.6  26.4  10.8  8.3  1.3  0.7  0.566  0.388  0.868  15.6  0.301\n\n\n\navg_age = mvp_df['Age'].mean() #this calculates the average age of the mvps since 2015\nprint (\"Average age of the MVP since the 2015 season -&gt; \", avg_age) #this prints it out\n\nAverage age of the MVP since the 2015 season -&gt;  26.5\n\n\n\nteam_data = []\n\nfor year in range(2015,2026):\n    url = f\"https://www.basketball-reference.com/leagues/NBA_{year}_standings.html\"\n    data = requests.get(url)\n    soup = bs(data.text, \"html.parser\")\n    tables = soup.find_all(\"table\")\n    for table in tables:\n        df = pd.read_html(str(table))[0]\n        df[\"Year\"] = year\n        team_data.append(df)\n\n    #^that above collected the team data from 2015 to current, including standings.\n\nteams_df = pd.concat(team_data,ignore_index=True)\n\n#cleaning and merging the east/west standings into one table down below~\n\nstat_cols_all = [\"W\", \"L\", \"W/L%\", \"GB\", \"PS/G\", \"PA/G\", \"SRS\"]\nstat_cols = [x for x in stat_cols_all if x in teams_df.columns] # it loops over the columns for whatever of the columns are found\n\nbase_cols = [\"Year\"] + stat_cols #makes the base columns = to years and the statistics found\n\nprint (stat_cols, base_cols)\n\ncols =[\"Eastern Conference\"] + base_cols\neast = teams_df[cols].copy()\neast = east.dropna( subset=[\"Eastern Conference\"])\nvar_div = east[\"Eastern Conference\"].astype(str).str.contains(\"Division\", na=False)\neast = east[~var_div]\neast = east.rename(columns={\"Eastern Conference\": \"Teams\"})\neast[\"Conference\"]= \"East\"\nprint(east.head(),east.shape)\n\ncols = [\"Western Conference\"] + base_cols\nwest = teams_df[cols].copy()\nwest = west.dropna(subset=[\"Western Conference\"])\nvar_div = west[\"Western Conference\"].astype(str).str.contains(\"Division\", na=False)\nwest = west[~var_div]\nwest = west.rename(columns={\"Western Conference\": \"Teams\"})\nwest[\"Conference\"]= \"West\"\nprint(west.head(),west.shape)\n\nteams_tidy = pd.concat([east, west], ignore_index= True)\nprint (teams_tidy.shape)\n\neast = east.rename(columns={'Teams':'Team'}) #renaming the teams in the columns from Teams to Team\nwest = west.rename(columns={'Teams':'Team'})\n\ndef clean_team_name(t):\n    if pd.isna(t):\n        return t #means if its empty return it back but if not then -&gt;\n    \n    return str(t).replace('x','').replace('*','').replace('z','').replace('y','').strip()     #this cleans the Teams and removes the uneccesary stuff such as : stars, extra letters etc.\n\n\neast['Team'] = east['Team'].apply(clean_team_name) #we call the clean function and this cleans whatever we apply it top \nwest['Team'] = west['Team'].apply(clean_team_name)\n\ndf = pd.concat([east,west], ignore_index=True)\n\nfor col in [\"W\",\"L\",\"GB\",\"PS/G\",\"PA/G\",\"SRS\"]:\n    if col in df.columns:\n        df[col]= pd.to_numeric(df[col], errors = \"coerce\")\n\ndf[\"W/L%\"] = pd.to_numeric(df[\"W/L%\"].astype(str).str.replace(\"-\", \"\"), errors=\"coerce\")\n\ndf[\"ConferenceRank\"]=(\n    df.groupby([\"Year\",\"Conference\"])[\"W/L%\"]\n    .rank(method=\"min\", ascending=False)\n)\n\nprint (df.shape)\nprint (df.head())\nprint (df.dtypes)\nprint (df[\"Team\"].nunique())\n\n#df = pd.concat([east,west], ignore_index=True)\n\n['W', 'L', 'W/L%', 'GB', 'PS/G', 'PA/G', 'SRS'] ['Year', 'W', 'L', 'W/L%', 'GB', 'PS/G', 'PA/G', 'SRS']\n                Teams  Year   W   L  W/L%    GB   PS/G   PA/G    SRS Conference\n1    Toronto Raptors*  2015  49  33  .598     —  104.0  100.9   2.45       East\n2     Boston Celtics*  2015  40  42  .488   9.0  101.4  101.2  -0.40       East\n3      Brooklyn Nets*  2015  38  44  .463  11.0   98.0  100.9  -3.13       East\n4  Philadelphia 76ers  2015  18  64  .220  31.0   92.0  101.0  -9.04       East\n5     New York Knicks  2015  17  65  .207  32.0   91.9  101.2  -9.50       East (315, 10)\n                      Teams  Year   W   L  W/L%    GB   PS/G   PA/G    SRS Conference\n19  Portland Trail Blazers*  2015  51  31  .622     —  102.8   98.6   4.41       West\n20    Oklahoma City Thunder  2015  45  37  .549   6.0  104.0  101.8   2.47       West\n21                Utah Jazz  2015  38  44  .463  13.0   95.1   94.9   0.71       West\n22           Denver Nuggets  2015  30  52  .366  21.0  101.5  105.0  -3.07       West\n23   Minnesota Timberwolves  2015  16  66  .195  35.0   97.8  106.5  -8.00       West (315, 10)\n(630, 10)\n(630, 11)\n                 Team  Year   W   L   W/L%    GB   PS/G   PA/G   SRS Conference  ConferenceRank\n0     Toronto Raptors  2015  49  33  0.598   NaN  104.0  100.9  2.45       East             4.0\n1      Boston Celtics  2015  40  42  0.488   9.0  101.4  101.2 -0.40       East             7.0\n2        Brookln Nets  2015  38  44  0.463  11.0   98.0  100.9 -3.13       East             8.0\n3  Philadelphia 76ers  2015  18  64  0.220  31.0   92.0  101.0 -9.04       East            14.0\n4     New York Knicks  2015  17  65  0.207  32.0   91.9  101.2 -9.50       East            15.0\nTeam               object\nYear                int64\nW                   int64\nL                   int64\nW/L%              float64\nGB                float64\nPS/G              float64\nPA/G              float64\nSRS               float64\nConference         object\nConferenceRank    float64\ndtype: object\n30\n\n\n\n#merge the MVP data and the standings\n\nmvp_df[\"Year\"] = (mvp_df[\"Season\"].astype(str).str[:4].astype(int) + 1)\n\nteam_map = {\"DEN\": \"Denver Nuggets\", \n    \"PHI\": \"Philadelphia 76ers\",  \n    \"MIL\": \"Milwaukee Bucks\", \n    \"HOU\": \"Houston Rockets\",\n    \"OKC\": \"Oklahoma City Thunder\",\n    \"GSW\": \"Golden State Warriors\",\n    \"CLE\": \"Cleveland Cavaliers\",\n    \"LAL\": \"Los Angeles Lakers\",\n    \"DAL\": \"Dallas Mavericks\",\n    \"BOS\": \"Boston Celtics\",\n    \"MIA\": \"Miami Heat\",\n    \"PHX\": \"Phoenix Suns\",\n    \"NYK\": \"New York Knicks\",\n    \"SAS\": \"San Antonio Spurs\",\n    \"TOR\": \"Toronto Raptors\",\n    \"BKN\": \"Brooklyn Nets\",\n    \"ORL\": \"Orlando Magic\",\n    \"WIZ\": \"Washington Wizards\",\n    \"MAVS\": \"Dallas Mavericks\",\n    \"MEM\": \"Memphis Grizzlies\",\n    \"UTH\": \"Utahd Jazz\",\n    \"ATL\": \"Atlanta Hawks\",\n    \"NOP\": \"New Orleans Pelicans\",\n    \"IND\": \"Indiana Pacers\",\n    \"DET\": \"Detroit Pistons\",\n    \"LAC\": \"Los Angeles Clippers\",\n    \"POR\": \"Portland Trailblazers\",\n    \"CHA\": \"Charlotte Hornets\",\n    \"CHI\": \"Chicago Bulls\",\n    \"SAC\": \"Sacramento Kings\"}\n\nmvp_df [\"Team\"] = (\n    mvp_df[\"Tm\"]\n        .map(team_map)\n        .fillna(mvp_df[\"Tm\"])\n)\n\nmvp_keep = mvp_df[[\"Player\", \"Age\", \"Year\", \"Team\"]]\nstandings_keep = df[[\"Year\", \"Team\", \"W/L%\", \"Conference\", \"ConferenceRank\", \"SRS\"]]\n\nmerged = pd.merge(\n    mvp_keep, standings_keep, on=[\"Year\", \"Team\"], how=\"left\"\n)\n\nprint(merged.head()[[\"Player\", \"Year\", \"Team\", \"W/L%\", \"Conference\", \"ConferenceRank\"]])\n\nif \"ConferenceRank\" in merged.columns:\n    merged[\"ConferenceRank\"] = merged[\"ConferenceRank\"].astype(\"Int64\")\n\nprint(merged.shape)\nprint(merged.columns.tolist())\nprint(merged.head(10))\nprint(merged.isna().sum())\n\n#soup = bs(data.text.encode(\"utf-8\"), \"html.parser\")#\n\n                    Player  Year                   Team   W/L% Conference  ConferenceRank\n0  Shai Gilgeous-Alexander  2025  Oklahoma City Thunder    NaN        NaN             NaN\n1            Nikola JokiÄ  2024         Denver Nuggets  0.695       West             1.0\n2            Nikola JokiÄ  2024         Denver Nuggets  0.695       West             1.0\n3              Joel Embiid  2023     Philadelphia 76ers  0.659       East             5.0\n4              Joel Embiid  2023     Philadelphia 76ers  0.659       East             5.0\n(18, 8)\n['Player', 'Age', 'Year', 'Team', 'W/L%', 'Conference', 'ConferenceRank', 'SRS']\n                    Player  Age  Year                   Team   W/L% Conference  ConferenceRank   SRS\n0  Shai Gilgeous-Alexander   26  2025  Oklahoma City Thunder    NaN        NaN            &lt;NA&gt;   NaN\n1            Nikola JokiÄ   28  2024         Denver Nuggets  0.695       West               1  5.23\n2            Nikola JokiÄ   28  2024         Denver Nuggets  0.695       West               1  5.23\n3              Joel Embiid   28  2023     Philadelphia 76ers  0.659       East               5  4.37\n4              Joel Embiid   28  2023     Philadelphia 76ers  0.659       East               5  4.37\n5            Nikola JokiÄ   26  2022         Denver Nuggets  0.585       West              11  2.16\n6            Nikola JokiÄ   26  2022         Denver Nuggets  0.585       West              11  2.16\n7            Nikola JokiÄ   25  2021         Denver Nuggets  0.653       West               5  4.82\n8            Nikola JokiÄ   25  2021         Denver Nuggets  0.653       West               5  4.82\n9    Giannis Antetokounmpo   25  2020        Milwaukee Bucks  0.767       East               1  9.41\nPlayer            0\nAge               0\nYear              0\nTeam              0\nW/L%              2\nConference        2\nConferenceRank    2\nSRS               2\ndtype: int64\n\n\n\nprint(\"Average Win to Loss % of the MVP's team:\" , merged[\"W/L%\"].mean())\nprint(\"Average Conference position: \", merged[\"ConferenceRank\"].mean())\nprint(\"Average point differential of team: \", merged[\"SRS\"].mean())\n\nprint(\"\\nConference Rank distribution: \")\nprint(merged[\"ConferenceRank\"].value_counts().sort_index())\n\n#rank_counts = merged[\"ConferenceRank\"].value_counts().sort_index()\n\n#print(\"MVP count by Conference Rank: \\n\")\n#for rank , count in rank_counts.items():\n    #print(f\"Conference Rank {rank}: {count} MVPs\")\n                                      \nmerged[\"Top5\"] = merged[\"ConferenceRank\"] &lt;= 5\nprint(\"\\n% of MVPs from Top 5 teams:\", merged[\"Top5\"].mean() * 100)\n\nAverage Win to Loss % of the MVP's team: 0.7217500000000001\nAverage Conference position:  3.25\nAverage point differential of team:  6.5775\n\nConference Rank distribution: \nConferenceRank\n1     10\n5      4\n11     2\nName: count, dtype: Int64\n\n% of MVPs from Top 5 teams: 87.5\n\n\n\n#now we use machine to rank who has the best chance of winning mvp for the upcoming season and rank the top 10.\n\ntarget_year = df[\"Year\"].max() #finds the maximum year of the years we have, since mvp data is most helpful when recent\n\nurl = f\"https://www.basketball-reference.com/leagues/NBA_2026_per_game.html\"\ndata_players = requests.get(url)\nsoup = bs(data_players.text, \"html.parser\")\n\nplayer_df  = pd.read_html(str(soup), header = 0)[0]\n\n#print (player_df.columns)\n#print (player_df.head(15))\n\nstat_cols = [\"PTS\", \"AST\", \"TRB\", \"FG%\", \"BLK\", \"STL\"]\n\nplayer_df = player_df[player_df[\"Player\"].notna()].copy()\nplayer_df = player_df[player_df[\"Player\"] != \"Player\"].copy()\n\nplayer_df = player_df[~player_df[\"Team\"].astype(str).str.contains(\"TM\")].copy()\n\nprint (player_df.columns)\nprint (player_df.head(15))\n\nfor col in stat_cols:\n    if col in player_df.columns:\n        player_df[col] = pd.to_numeric(player_df[col], errors = \"coerce\")\n\nprint (player_df[stat_cols].dtypes)\n\nplayer_df = (\n    player_df.sort_values(\"G\", ascending=False).groupby(\"Player\", as_index=False).head(1) #this code fixes it\n)\n\nprint (player_df[player_df[\"Player\"].str.contains(\"Luka\", na=False)]) #this fixes the luka problem where luka is printed 2x\n\nIndex(['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS', 'Awards'], dtype='object')\n      Rk                   Player   Age Team Pos     G    GS    MP    FG   FGA    FG%   3P   3PA    3P%    2P   2PA    2P%   eFG%   FT   FTA    FT%  ORB  DRB   TRB   AST  STL  BLK  TOV   PF   PTS  Awards\n0    1.0            Luka DonÄiÄ  26.0  LAL  PG  30.0  30.0  36.5  10.5  22.6  0.465  3.3  10.2  0.320   7.2  12.4  0.583  0.537  9.4  11.9  0.789  0.9  7.1   8.0   8.7  1.7  0.5  4.5  2.6  33.6     NaN\n1    2.0  Shai Gilgeous-Alexander  27.0  OKC  PG  38.0  38.0  33.3  10.9  19.9  0.547  2.0   5.1  0.396   8.9  14.8  0.599  0.597  8.1   9.2  0.888  0.4  4.0   4.5   6.4  1.4  0.7  1.9  2.1  31.9     NaN\n2    3.0             Tyrese Maxey  25.0  PHI  PG  36.0  36.0  39.6  10.8  22.4  0.480  3.8   9.2  0.409   7.0  13.3  0.528  0.563  5.7   6.5  0.876  0.3  4.2   4.5   6.7  1.9  0.9  2.6  2.2  30.9     NaN\n3    4.0            Nikola JokiÄ  30.0  DEN   C  32.0  32.0  34.6  10.6  17.5  0.605  2.1   4.8  0.435   8.5  12.7  0.670  0.665  6.3   7.4  0.853  3.0  9.1  12.2  11.0  1.4  0.8  3.5  2.8  29.6     NaN\n4    5.0             Jaylen Brown  29.0  BOS  SF  36.0  36.0  34.3  10.9  21.9  0.495  2.2   5.8  0.376   8.7  16.1  0.538  0.545  5.6   7.2  0.779  1.2  5.3   6.4   5.0  1.0  0.4  3.8  3.1  29.5     NaN\n5    6.0         Donovan Mitchell  29.0  CLE  SG  37.0  37.0  33.8  10.3  20.9  0.492  3.9  10.0  0.386   6.4  10.9  0.589  0.585  5.1   6.0  0.842  0.8  3.8   4.7   5.5  1.5  0.3  3.0  2.6  29.5     NaN\n6    7.0    Giannis Antetokounmpo  31.0  MIL  PF  25.0  25.0  29.2  11.2  17.2  0.647  0.6   1.4  0.400  10.6  15.8  0.669  0.664  6.4   9.6  0.660  3.0  6.7   9.8   5.7  0.9  0.8  3.2  2.7  29.2     NaN\n7    8.0            Jalen Brunson  29.0  NYK  PG  36.0  36.0  35.3  10.3  21.4  0.481  3.1   7.9  0.389   7.2  13.5  0.534  0.553  5.3   6.2  0.852  0.6  2.8   3.3   6.3  0.7  0.1  2.3  2.5  28.9     NaN\n8    9.0          Anthony Edwards  24.0  MIN  SG  33.0  33.0  34.9  10.0  19.9  0.500  3.3   8.2  0.409   6.6  11.8  0.563  0.584  5.6   7.1  0.787  0.6  4.4   5.0   3.8  1.3  0.8  2.7  1.8  28.9     NaN\n9   10.0            Stephen Curry  37.0  GSW  PG  30.0  30.0  32.2   9.4  20.1  0.470  4.7  12.0  0.391   4.7   8.0  0.589  0.587  5.2   5.6  0.929  0.5  3.3   3.8   4.7  1.2  0.5  2.9  2.1  28.8     NaN\n10  11.0            Kawhi Leonard  34.0  LAC  SF  29.0  29.0  33.9   9.8  19.5  0.501  2.8   7.1  0.386   7.0  12.3  0.567  0.572  5.8   6.2  0.939  0.9  5.4   6.4   3.4  2.2  0.7  2.2  1.4  28.1     NaN\n11  12.0          Lauri Markkanen  28.0  UTA  PF  33.0  33.0  36.0   9.5  19.7  0.483  2.9   8.0  0.365   6.6  11.7  0.563  0.557  6.0   6.8  0.884  2.0  5.2   7.2   2.2  1.0  0.5  1.6  2.0  27.9     NaN\n12  13.0          Cade Cunningham  24.0  DET  PG  33.0  33.0  35.6   9.3  19.9  0.465  2.1   6.1  0.340   7.2  13.9  0.520  0.517  6.1   7.3  0.838  1.1  5.1   6.2   9.7  1.5  0.8  4.0  3.4  26.7     NaN\n13  14.0            Austin Reaves  27.0  LAL  SG  23.0  22.0  35.3   8.2  16.2  0.507  2.7   7.4  0.365   5.5   8.8  0.626  0.590  7.5   8.6  0.873  0.7  4.5   5.2   6.3  1.0  0.2  3.3  2.3  26.6     NaN\n14  15.0              Deni Avdija  25.0  POR  SF  40.0  40.0  35.4   7.9  17.0  0.468  2.3   6.5  0.355   5.6  10.5  0.537  0.535  7.9   9.9  0.801  1.0  6.1   7.1   6.9  0.9  0.6  3.9  2.8  26.1     NaN\nPTS    float64\nAST    float64\nTRB    float64\nFG%    float64\nBLK    float64\nSTL    float64\ndtype: object\n        Rk         Player   Age Team Pos     G    GS    MP    FG   FGA    FG%   3P   3PA    3P%   2P   2PA    2P%   eFG%   FT   FTA    FT%  ORB  DRB  TRB  AST  STL  BLK  TOV   PF   PTS  Awards\n253  250.0     Luka Garza  27.0  BOS   C  31.0   1.0  16.3   2.7   4.4  0.618  0.7   1.3  0.512  2.0   3.1  0.663  0.695  1.4   1.7  0.796  2.5  1.9  4.4  0.9  0.4  0.5  0.4  2.5   7.5     NaN\n0      1.0  Luka DonÄiÄ  26.0  LAL  PG  30.0  30.0  36.5  10.5  22.6  0.465  3.3  10.2  0.320  7.2  12.4  0.583  0.537  9.4  11.9  0.789  0.9  7.1  8.0  8.7  1.7  0.5  4.5  2.6  33.6     NaN\n\n\n\ntarget_year = 2026\nteams_current = df[df[\"Year\"] == target_year].copy()\n\nname_to_abbr = {full: abbr for abbr, full in team_map.items()}\nteams_current[\"Team_abbr\"] = teams_current[\"Team\"].map(name_to_abbr)\n\nplayers_df = player_df.merge(\n    teams_current[[\"Team_abbr\", \"W/L%\"]],\n    left_on = \"Team\", right_on = \"Team_abbr\", how = \"left\"\n)\n\nplayers_df = players_df.rename(columns={\"W/L%\": \"team_win_pct\"})\n\nprint(players_df[[\"Player\", \"Team\", \"team_win_pct\"]].head(20))\n\n                   Player Team  team_win_pct\n0          Jeremiah Fears  NOP           NaN\n1             Jamal Shead  TOR           NaN\n2             Gradey Dick  TOR           NaN\n3           DeMar DeRozan  SAC           NaN\n4             Deni Avdija  POR           NaN\n5            Desmond Bane  ORL           NaN\n6          Scottie Barnes  TOR           NaN\n7            Quinten Post  GSW           NaN\n8          Toumani Camara  POR           NaN\n9           Julius Randle  MIN           NaN\n10             Tyus Jones  ORL           NaN\n11            Rudy Gobert  MIN           NaN\n12          Naji Marshall  DAL           NaN\n13            Derik Queen  NOP           NaN\n14          Anthony Black  ORL           NaN\n15      Russell Westbrook  SAC           NaN\n16  Sandro Mamukelashvili  TOR           NaN\n17          Jarace Walker  IND           NaN\n18               Jay Huff  IND           NaN\n19             Sion James  CHO           NaN\n\n\n\nstat_cols = [\"PTS\", \"AST\", \"TRB\", \"STL\", \"BLK\", \"FG%\", \"team_win_pct\"]\n\nprint (players_df.columns.tolist())\n\nfor col in stat_cols:\n    col_min = players_df[col].min()\n    col_max = players_df[col].max()\n\n    if col_min == col_max:\n        players_df[col +\"_norm\"] = 0.5\n    else:\n        players_df[col +\"_norm\"] = (players_df[col] - col_min) / (col_max - col_min)\n\n    print(player_df.columns)\n\n['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS', 'Awards', 'Team_abbr', 'team_win_pct']\nIndex(['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS', 'Awards'], dtype='object')\nIndex(['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS', 'Awards'], dtype='object')\nIndex(['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS', 'Awards'], dtype='object')\nIndex(['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS', 'Awards'], dtype='object')\nIndex(['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS', 'Awards'], dtype='object')\nIndex(['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS', 'Awards'], dtype='object')\nIndex(['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS', 'Awards'], dtype='object')\n\n\n\nplayers_df[\"Player\"] = (\n    players_df[\"Player\"].str.encode(\"latin1\").str.decode(\"utf-8\"))\n\nplayers_df = players_df.drop_duplicates(subset=[\"Player\"])\n\nplayers_df[\"mvp_score\"] =( \n #this is the formula \n    0.20 * players_df[\"PTS_norm\"] +\n    0.30 * players_df[\"team_win_pct_norm\"] +\n    0.15 * players_df[\"AST_norm\"] +\n    0.025 * players_df[\"STL_norm\"] +\n    0.10 * players_df[\"TRB_norm\"] +\n    0.025 * players_df[\"BLK_norm\"] +\n    0.20 * players_df[\"FG%_norm\"] \n\n)\n\n\nplayers_df = players_df.sort_values(\"mvp_score\", ascending=False)\n\nprint(\n    players_df[[\"Player\", \"Team\", \"PTS\", \"AST\", \"TRB\", \"team_win_pct\", \"mvp_score\"]]\n.head(10)\n)\n\n           Player Team   PTS  AST  TRB  team_win_pct  mvp_score\n0  Jeremiah Fears  NOP  14.4  3.1  3.6           NaN        NaN\n1     Jamal Shead  TOR   7.0  5.4  1.7           NaN        NaN\n2     Gradey Dick  TOR   6.0  0.7  1.9           NaN        NaN\n3   DeMar DeRozan  SAC  19.0  3.9  3.3           NaN        NaN\n4     Deni Avdija  POR  26.1  6.9  7.1           NaN        NaN\n5    Desmond Bane  ORL  19.2  4.5  4.6           NaN        NaN\n6  Scottie Barnes  TOR  19.3  5.3  8.3           NaN        NaN\n7    Quinten Post  GSW   8.1  1.5  3.9           NaN        NaN\n8  Toumani Camara  POR  13.1  2.7  5.2           NaN        NaN\n9   Julius Randle  MIN  22.0  5.7  7.1           NaN        NaN"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "NBA MVP Project",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "model.html",
    "href": "model.html",
    "title": "NBA_MVP_Project",
    "section": "",
    "text": "title: “MVP Model” execute: python: true\n#now we use machine to rank who has the best chance of winning mvp for the upcoming season and rank the top 10.\ntarget_year = df[“Year”].max() #finds the maximum year of the years we have, since mvp data is most helpful when recent\nurl = f”https://www.basketball-reference.com/leagues/NBA_2026_per_game.html” data_players = requests.get(url) soup = bs(data_players.text, “html.parser”)\nplayer_df = pd.read_html(str(soup), header = 0)[0]\n#print (player_df.columns) #print (player_df.head(15))\nstat_cols = [“PTS”, “AST”, “TRB”, “FG%”, “BLK”, “STL”]\nplayer_df = player_df[player_df[“Player”].notna()].copy() player_df = player_df[player_df[“Player”] != “Player”].copy()\nplayer_df = player_df[~player_df[“Team”].astype(str).str.contains(“TM”)].copy()\nprint (player_df.columns) print (player_df.head(15))\nfor col in stat_cols: if col in player_df.columns: player_df[col] = pd.to_numeric(player_df[col], errors = “coerce”)\nprint (player_df[stat_cols].dtypes)\nplayer_df = ( player_df.sort_values(“G”, ascending=False).groupby(“Player”, as_index=False).head(1) #this code fixes it )\nprint (player_df[player_df[“Player”].str.contains(“Luka”, na=False)]) #this fixes the luka problem where luka is printed 2x"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  }
]